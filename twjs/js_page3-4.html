<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>统计字数</title>
<style>
#txt1{width:300px; height:100px;}
div{font-size:50px;}
</style>
<script>
window.onload=function(){
	var oDiv = document.getElementsByTagName('div')[0];
	var oTxt = document.getElementById('txt1');
	
	if(window.navigator.userAgent.indexOf('MSIE 9.0')!=-1){
		var timer =null;
		oTxt.onfocus=function(){
			timer = setInterval(function(){
				oDiv.innerHTML=oTxt.value.length;
			},30);
		};
		oTxt.onblur=function(){
			clearInterval(timer);
		};
	}else{
		oTxt.onpropertychange=oTxt.oninput=function(){
			oDiv.innerHTML=oTxt.value.length;
		};
	}
};
</script>
</head>

<body>
<div>0</div>
<textarea id="txt1"></textarea>
</body>
</html>
